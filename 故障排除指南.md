# 🔧 AR 卡片故障排除指南

快速解決常見問題

---

## ⚡ 快速診斷流程圖

```
開始
  ↓
網頁能開啟嗎？
  ├─ 否 → 檢查網址是否正確
  │        → 檢查 GitHub Pages 是否啟用
  │        → 參考【問題 1】
  │
  └─ 是 → 相機有開啟嗎？
           ├─ 否 → 是用什麼開的？
           │        ├─ LINE/FB → 改用 Chrome/Safari【問題 2】
           │        ├─ Chrome/Safari → 檢查權限【問題 3】
           │        └─ 其他 → 建議改用 Chrome/Safari
           │
           └─ 是 → 能辨識圖片嗎？
                    ├─ 否 → 檢查光線【問題 4】
                    │        → 檢查距離【問題 5】
                    │        → 檢查標記圖片【問題 6】
                    │
                    └─ 是 → 影片能播放嗎？
                             ├─ 否 → 黑畫面【問題 7】
                             │        → 沒聲音【問題 8】
                             │        → 很慢【問題 9】
                             │
                             └─ 是 → 成功！🎉
```

---

## 📱 問題 1：網頁打不開

### 症狀
- 404 Not Found
- Page not found
- 網址無法連線

### 解決方法

**A. 檢查網址是否正確**
```
✅ 正確：https://g220132110.github.io/ar-mothers-day-card/ar-card.html
❌ 錯誤：https://github.com/g220132110/ar-mothers-day-card/ar-card.html
```

**B. 確認 GitHub Pages 已啟用**
1. 前往 Repository → Settings → Pages
2. 確認顯示 "Your site is live at..."
3. 等待 2-5 分鐘部署完成

**C. 檢查檔案名稱**
- 確認檔案名稱完全正確（大小寫也要對）
- 建議使用 `index.html`（可以用短網址）

---

## 🚫 問題 2：用 LINE 開啟，相機沒有畫面

### 症狀
- 看到「將相機對準卡片上的圖片」
- 但沒有相機畫面
- 畫面全黑或全白

### 原因
**LINE、Facebook、Instagram 的內建瀏覽器會封鎖相機存取**

### ✅ 解決方法

**方法 1：複製連結（推薦）**
1. 在 LINE 中長按連結
2. 選擇「複製連結」
3. 開啟 Chrome 或 Safari
4. 貼上網址
5. 開啟

**方法 2：用「外部瀏覽器開啟」**

LINE:
1. 點擊連結後
2. 點擊右上角 ⋯ (三個點)
3. 選擇「在其他瀏覽器開啟」
4. 選擇 Chrome 或 Safari

**Android:**
- 點擊連結後，右上角選擇「在 Chrome 中開啟」

**iOS:**
- 點擊連結後，下方選擇「在 Safari 中開啟」

---

## 🔒 問題 3：Chrome/Safari 相機沒畫面

### 症狀
- 用正確的瀏覽器開啟
- 但相機還是沒有畫面
- 可能看到「請允許相機權限」

### ✅ 解決方法

**Android Chrome:**
1. 點擊網址列左邊的 🔒 或 ⓘ
2. 找到「相機」權限
3. 改成「允許」
4. 重新整理頁面

如果還是不行：
1. 設定 → 應用程式 → Chrome
2. 權限 → 相機
3. 允許

**iOS Safari:**
1. 設定 → Safari
2. 相機
3. 選擇「詢問」或「允許」
4. 重新整理頁面

如果還是不行：
1. 設定 → 隱私權與安全性 → 相機
2. 確認 Safari 有權限

---

## 🔍 問題 4：相機開了但掃不到圖片

### 症狀
- 相機畫面正常
- 對準圖片後沒有反應
- 一直顯示「將相機對準卡片上的圖片」

### ✅ 解決方法

**A. 檢查光線**
- 在明亮的環境使用
- 避免陰暗處
- 避免強光直射造成反光

**B. 調整距離**
- 建議距離：20-40 公分
- 太近或太遠都可能辨識失敗
- 慢慢調整距離試試

**C. 調整角度**
- 盡量垂直對準
- 避免太斜的角度
- 輕微調整角度試試

**D. 保持穩定**
- 手機要拿穩
- 不要晃動
- 給它 2-3 秒時間辨識

**E. 檢查標記圖片**
- 圖片是否清晰？
- 是否有髒污或折痕？
- 是否反光？
- 建議使用彩色列印的圖片

---

## 📏 問題 5：距離和角度建議

### 最佳設定

```
        📱 手機
         ↓
    20-40 公分
         ↓
    ┌─────────┐
    │ 標記圖片 │  ← 平放
    └─────────┘
```

### 角度示意

```
✅ 正確（垂直）
    📱
    ↓
  ┌───┐
  └───┘

❌ 錯誤（太斜）
📱
  ↘
    ┌───┐
    └───┘
```

---

## 🖼️ 問題 6：標記圖片不佳

### 檢查清單

標記圖片品質檢查：
- [ ] 彩色列印（比黑白好）
- [ ] 高解析度（不模糊）
- [ ] 對比度高
- [ ] 沒有髒污
- [ ] 沒有折痕
- [ ] 平整放置
- [ ] 不反光

### ⚠️ 如果用螢幕顯示標記圖片

- 調高螢幕亮度
- 關閉自動亮度
- 避免螢幕反光

---

## ⬛ 問題 7：影片黑畫面

### 症狀
- 辨識成功了
- 看到影片框
- 但裡面是黑色，沒有影片

### 原因
1. 影片還在載入中
2. 影片檔案太大
3. 影片格式不對
4. 網路速度慢

### ✅ 解決方法

**立即處理：**
1. **等待 10-30 秒**（影片可能還在載入）
2. **點擊黑畫面**（嘗試手動播放）
3. **清除快取重試**

**長期處理：**

**A. 壓縮影片**（最有效）
- 參考「影片優化指南.md」
- 建議壓縮到 < 20MB
- 使用線上工具：https://www.freeconvert.com/video-compressor

**B. 檢查影片格式**
```
✅ 正確：MP4 (H.264 編碼)
❌ 錯誤：AVI, MOV, MKV, WEBM
```

轉換工具：
- https://cloudconvert.com/

**C. 降低解析度**
- 4K → 1080p → 720p
- 解析度越低，載入越快

**D. 使用優化版本**
- 上傳 `ar-card-optimized.html`
- 有更好的載入機制

---

## 🔇 問題 8：沒有聲音

### 症狀
- 影片有畫面
- 但沒有聲音

### ✅ 解決方法

1. **檢查手機音量**
   - 調高媒體音量
   - 不是鈴聲音量！

2. **取消靜音模式**
   - iOS: 側邊靜音開關
   - Android: 音量鍵

3. **點擊畫面**
   - 有些瀏覽器需要互動才能播放聲音
   - 點擊影片畫面試試

4. **檢查影片本身**
   - 確認原始影片有聲音
   - 用其他播放器測試

---

## 🐌 問題 9：載入/辨識很慢

### 症狀
- 網頁載入很久
- 辨識反應慢
- 影片緩衝很久

### ✅ 解決方法

**A. 網路連線**
- 使用 WiFi 而非行動數據
- 確認網路速度正常
- 關閉其他占用流量的 App

**B. 優化檔案**
1. **壓縮 video.mp4**
   - 目標：< 20MB
   - 參考「影片優化指南.md」

2. **使用優化版 HTML**
   - 上傳 `ar-card-optimized.html`
   - 有更好的預載入機制

**C. 清除快取**

Chrome:
1. 設定 → 隱私權和安全性
2. 清除瀏覽資料
3. 選擇「快取的圖片和檔案」

Safari:
1. 設定 → Safari
2. 清除歷史記錄與網站資料

**D. 重新啟動**
- 關閉其他分頁
- 重新啟動瀏覽器
- 重新啟動手機（如果需要）

---

## 🔄 問題 10：一開始可以，後來不行了

### 可能原因
- 快取問題
- 檔案被修改但沒更新
- GitHub Pages 部署延遲

### ✅ 解決方法

1. **清除快取**（見問題 9）
2. **等待 5 分鐘** GitHub Pages 更新
3. **檢查檔案** 是否完整上傳
4. **使用無痕模式** 測試

---

## 📊 效能優化建議

### 理想配置
```
標記圖片：清晰、高對比、彩色列印
影片大小：< 20MB
影片解析度：720p
網路速度：> 5 Mbps
環境光線：充足、無反光
手機距離：20-40 公分
```

### 檢查清單

測試前確認：
- [ ] 使用 Chrome 或 Safari
- [ ] 已允許相機權限
- [ ] 在光線充足的環境
- [ ] 標記圖片清晰無反光
- [ ] 網路連線良好
- [ ] 影片已優化

---

## 🆘 還是不行？

### 診斷步驟

1. **上傳測試版**
   - 使用 `ar-card-test.html`
   - 查看詳細錯誤訊息

2. **檢查瀏覽器 Console**
   - Chrome: 按 F12 或長按重新整理選擇「檢查」
   - 查看錯誤訊息
   - 截圖錯誤訊息

3. **確認檔案完整**
   ```
   必須有：
   ✓ ar-card.html (或 index.html)
   ✓ targets.mind
   ✓ video.mp4
   ```

4. **重新生成 targets.mind**
   - 可能標記圖片訓練檔有問題
   - 重新上傳圖片到線上工具
   - 重新生成並上傳

---

## 📞 聯絡資訊

如果以上方法都無效，可能是：
- 手機型號太舊（不支援 WebAR）
- 瀏覽器版本太舊
- 特殊的網路限制

建議：
1. 更新瀏覽器到最新版本
2. 嘗試其他手機
3. 使用測試版診斷具體問題

---

祝你順利解決問題！🎉
